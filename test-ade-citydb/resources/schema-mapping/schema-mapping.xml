<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<schemaMapping xmlns="http://www.3dcitydb.org/database/schema/1.0">
    <metadata>
        <name>TestADE</name>
        <version>1.0</version>
        <description>Test ADE</description>
        <dbPrefix>test</dbPrefix>
    </metadata>
    <applicationSchemas>
        <schema id="test" isADERoot="true">
            <namespace context="citygml-2.0">http://www.citygml.org/ade/TestADE/1.0</namespace>
        </schema>
    </applicationSchemas>
    <complexTypes>
        <complexType id="test_EnergyPerformanceCertificationType" table="test_energyperformancecer" objectClassId="10000" path="EnergyPerformanceCertification" schema="test">
            <attribute column="certificationname" type="string" minOccurs="1" path="certificationName" schema="test"/>
            <attribute column="certificationid" type="string" minOccurs="1" maxOccurs="1" path="certificationid" schema="test"/>
        </complexType>
    </complexTypes>
    <featureTypes>
        <featureType id="test_IndustrialBuildingType" table="test_industrialbuilding" objectClassId="10001" topLevel="true" path="IndustrialBuilding" schema="test">
            <extension base="AbstractBuildingType">
                <join table="building" fromColumn="id" toColumn="id" toRole="parent"/>
            </extension>
            <attribute column="remark" type="string" maxOccurs="1" path="remark" schema="test"/>
        </featureType>
        <featureType id="test_OtherConstructionType" table="test_otherconstruction" objectClassId="10002" topLevel="true" path="OtherConstruction" schema="test">
            <extension base="AbstractSiteType">
                <join table="cityobject" fromColumn="id" toColumn="id" toRole="parent"/>
            </extension>
            <geometryProperty lod="2" inlineColumn="lod2multicurve" type="MultiCurve" maxOccurs="1" path="lod2MultiCurve" schema="test"/>
            <geometryProperty lod="2" refColumn="lod2solid_id" type="AbstractSolid" maxOccurs="1" path="lod2Solid" schema="test"/>
            <featureProperty target="AbstractBoundarySurfaceType" relationType="composition" path="boundedBy" schema="test">
                <joinTable table="test_other_to_thema_surfa">
                    <join table="test_otherconstruction" fromColumn="otherconstruction_id" toColumn="id" toRole="parent"/>
                    <inverseJoin table="thematic_surface" fromColumn="thematic_surface_id" toColumn="id" toRole="parent"/>
                </joinTable>
            </featureProperty>
        </featureType>
    </featureTypes>
    <propertyInjections>
        <propertyInjection table="test_building" defaultBase="AbstractBuildingType">
            <join table="test_building" fromColumn="ID" toColumn="ID" toRole="child"/>
            <attribute column="ownername" type="string" maxOccurs="1" path="ownerName" schema="test"/>
            <complexAttribute maxOccurs="1" path="floorArea" schema="test">
                <attribute column="floorarea_uom" type="string" path="@uom" schema="gml"/>
                <attribute column="floorarea" type="double" path="." schema="test"/>
            </complexAttribute>
            <complexProperty minOccurs="1" maxOccurs="1" path="energyPerformanceCertification" schema="test">
                <type path="EnergyPerformanceCertification" schema="test">
                    <attribute column="energyperforma_certification" type="string" minOccurs="1" path="certificationName" schema="test"/>
                    <attribute column="energyperform_certificatio_1" type="string" minOccurs="1" maxOccurs="1" path="certificationid" schema="test"/>
                </type>
            </complexProperty>
        </propertyInjection>
    </propertyInjections>
</schemaMapping>
