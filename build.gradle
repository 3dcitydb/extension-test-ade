apply plugin: 'distribution'

subprojects {
    version '1.0-SNAPSHOT'

    apply plugin: 'java'

    sourceCompatibility = 1.8

    repositories {
        maven{
            url 'https://dl.bintray.com/3dcitydb/maven'
        }
        maven {
            url 'http://download.osgeo.org/webdav/geotools'
        }
        maven {
            url 'https://maven.imagej.net/content/repositories/thirdparty'
        }
        jcenter()
    }
}

distributions.main.contents {
    into('lib') {
        from tasks.getByPath(':test-ade-citygml4j:jar')
        from tasks.getByPath(':test-ade-citydb:jar')
    }
    into('schema-mapping') {
        from "${project('test-ade-citydb').projectDir}/resources/schema-mapping"
    }
    into('3dcitydb') {
        from "${project('test-ade-citydb').projectDir}/resources/3dcitydb"
    }
}

task wrapper(type: Wrapper) {
    gradleVersion = '4.7'
}